## 01. 개방-폐쇄 원칙

로버트 마틴은 활장 가능하고 변화에 유연하게 대응할 수 있는 설계를 만들 수 있는 원칙 중 하나로
`개방-폐쇄 원칙`을 고안했다.

> 소프트웨어 개체(클래스, 모듈, 함수 등)는 확장에 대해 열려 있어야 하고, 수정에 대해서는 닫혀 있어야 한다.  
> 확장에 대해 열려 있다 : 애플리케이션의 요구사항이 변경될 때 이 변경에 맞게 새로운 `동작`을 추가해서
> 애플리케이션의 기능을 확장할 수 있다.  
> 수정에대해 닫혀 있다 : 기존 `코드`를 수정하지 않도고 애플리케이션의 동작을 추가하거나 변경할 수 있다.

### 컴파일 타임 의존성을 고정시키고 런타임 의존성을 변경하라

개방-폐쇄 원칙은 런타임 의존성과 컴파일타임 의존성에 관한 이야기다. 런타임 의존성은 실행 시에 협력에 참여하는 객체들 사이의 관계다.
컴파일타임 의존성은 코드에서 드러나는 클래스들 사이의 관계다.

### 추상화가 핵심이다.

개방-폐쇄 원칙의 핵심은 `추상화에 의존하는 것`이다. 추상화란 핵심적인 부분만 남기고 불필요한 부분은 생략함으로써 복잡성을 극복하는 기법이다.
개방-폐쇄 원칙의 관점에서 생략되지 않고 남겨지는 부분은 다양한 상황에서 공통점을 반영한 추상화의 결과물이다. 공통적인 부분은 문맥이 바뀌더라도
변하지 않아야 한다.

변하는 것과 변하지 않는 것이 무엇인지를 이해하고 이를 추상화의 목적으로 삼아야만 한다.

## 02. 생성 사용 분리

결합도가 높아질수록 개방-폐쇄 원칙을 따르는 구조를 설계하기 어려워진다. 알아야 하는 지식이 많으면 결합도도 높아진다.
특히 객체 생성에 대한 지식은 과도한 결합도를 초래하는 경향이 있다.

객체 생성을 피할 수는 없다. 어딘가에서는 반드시 객체를 생성해야 한다. 문제는 객체 생성이 아닌 부적절한 곳에서
객체를 생성한다는 것이 문제다.

유연하고 재사용 가능한 설계를 원한다면 객체와 관련된 두 가지 책임을 서로 다른 객체로 분리해야 한다.
하나는 객체를 생성하는 것이고, 다른 하나는 객체를 사용하는 것이다. 한마디로 객체에 대한 `생성과 사용을 분리`해야 한다.

### FACTORY 추가하기

생성과 사용을 분리하기 위해 객체 생성에 특화된 객체를 FACTORY라고 부른다.

### 순수한 가공물에게 책임 할당하기

어떤 책임을 할당하고 싶다면 제일먼저 도메인 모덴 안의 개념 중에서 적절한 후보가 존재하는지 찾아봐야 한다.
FACTORY는 도메인 모델에 속하지 않는다. FACTORY를 추가한 이유는 순수하게 기술적인 결정이다. 전체적으로 결합도를 낮추고
재사용성을 높이기 위해 도메인 개념에게 할당돼 있던 객체 생성 책임을 도메인 개념과 아무런 상관이 없는 가공의 객체로
이동시킨 것이다.

- 표현적 분해 : 도메인에 존재하는 사물 또는 개념을 표현하는 객체들을 이용해 시스템을 분해하는 것
    - 도메인 모델에 담겨 있는 개념과 관계를 따르며 도메인과 소프트웨어 사이의 표현적 차이를 최소화하는 것이 목적이다.

> PURE FABRICATION(순수한 가공물) : 도메인과 무관한 인공적인 객체. 표현적 분해보다 `행위적 분해`에 의해 생성되는 것이 일반적


